{% extends 'home/base.html' %}

{% load static %}

{% block title %}Shop - FreshMart{% endblock %}

{% block content %}
<main>

  <section class="products container">
    <h2 class="section-title">Our Products</h2>

    <div class="shop-controls">
      <div class="filter-control">
        <label for="category-filter">Filter by Category:</label>
        <select id="category-filter" name="category">
          <option value="all">All Categories</option>
          <option value="fruits">Fruits</option>
          <option value="vegetables">Vegetables</option>
          <option value="dairy">Dairy</option>
          <option value="snacks">Snacks</option>
          <option value="bakery">Bakery</option>
        </select>
      </div>

      <div class="sort-control">
        <label for="sort-options">Sort by:</label>
        <select id="sort-options" name="sort">
          <option value="default">Default</option>
          <option value="price-asc">Price: Low to High</option>
          <option value="price-desc">Price: High to Low</option>
          <option value="name-asc">Name: A-Z</option>
          <option value="name-desc">Name: Z-A</option>
        </select>
      </div>
    </div>

    <div class="product-grid">
        {% for item in products %}
            <div class="product-card">
                    <a href="{% url 'product:product_detail' item.slug %}">
                    <img src="{{ item.image.url }}" alt="{{ item.name }}">
                    <h3>{{ item.name }}</h3>
                </a>
                <p class="price">${{ item.price }}</p>
            </div>
        {% empty %}
            <p>No products available right now.</p>
        {% endfor %}
    </div>
</section>

</main>
{% endblock %}